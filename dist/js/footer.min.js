var chapters=[{name:"soul-2",start:"0",stop:"36.24"},{name:"india",start:"37",stop:"47.24"},{name:"old-men",start:"48",stop:"105.24"},{name:"soul-5",start:"106",stop:"111.24"},{name:"russia",start:"112",stop:"139.24"},{name:"dejavuha",start:"140",stop:"189.24"},{name:"old-men-2",start:"190",stop:"222.24"},{name:"carlton",start:"223",stop:"233.24"},{name:"soul-1",start:"234",stop:"248.24"},{name:"jvd",start:"249",stop:"304.24"},{name:"weird",start:"305",stop:"463.24"},{name:"wolf",start:"464",stop:"468.24"},{name:"carlton-2",start:"469",stop:"478.24"},{name:"heromi",start:"479",stop:"486.24"},{name:"soul-4",start:"487",stop:"537.24"},{name:"pica",start:"538",stop:"590.24"},{name:"fresh-prince",start:"591",stop:"628.24"},{name:"soul-3",start:"629",stop:"691.24"},{name:"bambi",start:"692",stop:"729.24"},{name:"chinea",start:"730",stop:"744.24"}];
function onYouTubeIframeAPIReady(){danceparty.app.initYoutube()}var danceparty=danceparty||{};danceparty.app=function(e){var t,n,a,r,i,o,c,d,s,u,p,m,l,a,y,f=this.app,g=0,v=!0,T=!0,h=0,E=!1,w=0,L=0;f.initYoutube=function(){player=new YT.Player("yt-iframe",{height:"390",width:"640",videoId:"qc98u-eGzlc",events:{onReady:m,onStateChange:l}})},p=function(){player.playVideo(),c.classList.add("yt-started")},m=function(e){a()};var I=!0;l=function(e){e.data==YT.PlayerState.PLAYING&&I&&(window.setTimeout(i,9610),I=!1)};var b=!1;y=function(){if(s.duration){var e=s.buffered.end(0)/s.duration*100;u.innerHTML=parseInt(e,10)+"%",e>=100&&!b&&(s.removeEventListener("progress",y,!1),s.currentTime=0,b=!0,p()),s.currentTime++}},a=function(){var e=document.createElement("source");e.src="https://s3.eu-central-1.amazonaws.com/meshuggah-dance/full-sm.mp4",e.type="video/mp4",s.appendChild(e),s.addEventListener("progress",y,!1),s.load()},n=function(){h+=1,E&&r(),window.setTimeout(n,521.73913)},i=function(){n(),c.classList.add("yt-started--play"),d.addEventListener("click",function(e){T&&(T=!1,e.preventDefault(),E=!0)})},r=function(){E=!1,s.removeEventListener("timeupdate",o,!1),w=chapters[g].start,L=chapters[g].stop,console.log("startTime: "+w),console.log("stopTime: "+L),v?(v=!1,s.play(),c.classList.add("party-started")):0===g?s.play():s.currentTime=w,s.addEventListener("timeupdate",o,!1),19===g?g=0:g+=1,T=!0},o=function(){s.currentTime>=L&&(console.log("replay"),s.currentTime=w)},t=function(){c=document.getElementById("body"),d=document.getElementById("click-frame"),u=document.getElementById("loader-progress"),s=document.getElementById("main-video"),s.volume=0}()},danceparty.app();var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);